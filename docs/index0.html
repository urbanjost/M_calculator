<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="github-markdown.css">
<style>
@font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}
</style>
<style>
 .markdown-body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
 }

 @media (max-width: 767px) {
  .markdown-body {
   padding: 15px;
  }
 }
</style>
</head>
<body>
<article class="markdown-body">
<?
<div><P style="page-break-before: always">

  <div id="Container">
    <div id="Content">
      <dl>
        <dt class="c1">NAME</dt>

        <dd>M_calculator(3fm) - [M_calculator::INTRO] module of routines for parsing expressions and returning values (LICENSE:PD)</dd>
        <!-- =========================================================================================================================== -->

        <dt class="c1">SYNOPSIS</dt>

        <dd>
          <pre>
    use M_calculator, only : calculator, expression
    use M_calculator, only : inum0, rnum0, dnum0, snum0
    ! convenience routines
</pre>
        </dd><!-- =========================================================================================================================== -->

        <dt class="c1">DESCRIPTION</dt>

        <dd>
          <p>The <span class="c2">M_calculator module and related functions</span> evaluate CHARACTER strings containing FORTRAN-like expressions and
          return numeric and string values.</p>

          <p>Using this interface it is easy to make free-format and order-independent input interfaces where values can be expressions and variable names
          instead of simple formatted numbers.</p>

          <p>The primary routine CALCULATOR(3f) acts like a powerful desk-top calculator. It supports named variables and has several arrays (of 55555
          elements each). Many standard FORTRAN functions are available, plus access to user-written functions is permitted via user-supplied routines via
          set_mysub(3f) and set_myfunc(3f).</p>

          <p>The programmer (generally) uses just the CALCULATOR(3f) routine or several convenience routines (INUM0,RNUM0,SNUM0,,EXPRESSION) that
          simplify making the most common type of calls to CALCULATOR(3f).</p>
          <!-- =========================================================================================================================== -->
        </dd>

        <dt class="c1">PROCEDURES</dt>

        <dd>
          <ul>
            <li><a href="calculator.3.html">calculator</a> The procedure CALCULATOR(3f) acts like a calculator</li>

            <li> Convenience routines
              <ul>

                <li><a href="inum0">inum0</a> resolve a calculator string into a whole integer number</li>

                <li><a href="rnum0">rnum0</a> resolve a calculator string into a real number (return 0 on errors)</li>

                <li><a href="dnum0">dnum0</a> resolve a calculator string into a doubleprecision number (return 0 on error s)</li>

                <li><a href="snum0">snum0</a> resolve a calculator expression into a string(return blank on errors)</li>

                <li><a href="expression">expression</a> call calculator(3f) and display messages</li>

              </ul>
            </li>
          </ul>
        </dd><!-- =========================================================================================================================== -->

        <dt class="c1">CONSTANTS</dt>

        <dd>
          <pre>
   The variables used to hold the X,Y,$X
   $Y, ... arrays and the dictionaries of variable names and
   string names and their associated values:

</pre>

          <blockquote>
            <ul>
              <li>integer,parameter,public :: iclen_calc=512 ! max length of expression or variable value as a string</li>

              <li>integer,parameter,public :: ixy_calc=55555 ! number of variables in X() and Y() array</li>

              <li>integer,parameter,public :: icname_calc=20 ! max length of a variable name</li>

              <li>real(kind=dp),save,public :: x(ixy_calc)=0.0_dp ! x array for procedure funcs_</li>

              <li>real(kind=dp),save,public :: y(ixy_calc)=0.0_dp ! y array for procedure funcs_</li>

              <li>integer,save,public,allocatable :: values_len(:) ! lengths of the string variable values</li>

              <li>character(len=:),save,public,allocatable :: values(:) ! string variable values</li>
            </ul>
          </blockquote>
          <pre>

</pre>
        </dd><!-- =========================================================================================================================== -->

        <dt class="c1">SEE ALSO</dt>

        <dd>
          <ul>
            <li>calculator(3f)</li>

            <li>expression(3f)</li>

            <li>inum0(3f),rnum0(3f),dnum0(3f),snum0(3f)</li>

          </ul>
        </dd><!-- =========================================================================================================================== -->

        <dt class="c1"><a name="USAGE" id="USAGE">USAGE</a></dt>

        <dd>
          <div class="c4">
            <h2>Calculator Expressions</h2>
          </div><!-- ======================================================================= -->

          <dl>
            <!-- ======================================================================= -->

            <dt class="c1">SYNOPSIS</dt>

            <dd>The calculator interface allows input values to be numeric or string expressions using Fortran-like syntax instead of just simple
            variables.<br />
            <br />
            Named variables may be created. Several arrays of 55555 elements each exist. The majority of FORTRAN intrinsic functions are available, Custom
            routines may be made available for each application using the interface.</dd>
            <!-- ======================================================================= -->

            <dt class="c1">DESCRIPTION</dt>

            <dd>
              A summary of the syntax rules for the expressions follows:

              <ul>
                <li>The hierarchy of operations is the same as that of FORTRAN except that adjacent exponents are done from left to right, not right to left
                [i.e. in FORTRAN 3**2**4=3**(2**4), e.g. 3**2**4=(3**2)**4]; and +- strings are resolved to a single sign (that is, 3+ -4 is acceptable
                instead of 3+(-4)).</li>

                <li>Almost all the INTRINSIC mathematical functions defined in FORTRAN are available, as well as access to common extensions and
                user-written routines.</li>

                <li>Embedded blanks are ignored during the processing of a calculation, but most applications using the calculator interface parse on
                spaces. Therefore, it is generally good practice to assume unquoted white-space ends an expression.</li>

                <li>All numeric values are treated as FORTRAN type DOUBLEPRECISION variables.</li>

                <li>Input lines should not normally be over 255 characters long,</li>

                <li>There are three ways to store results to be used in future calculations:

                  <ol>
                    <li>Variable names</li>

                    <li>The current-value</li>

                    <li>The x and y arrays</li>
                  </ol>Each of the types will be discussed separately.
                </li>
              </ul>
            </dd><!-- ======================================================================= -->

            <dt class="c1">VARIABLE NAMES</dt>

            <dd>
              Names must be 1 to 20 characters long, and are case-sensitive. The numbr of names permitted is only limited by the available memory. Numeric
              variable names should be composed of the letters a-z and underscores and numbers. String variables are similar but start with a dollar
              sign($). Names must not end in a "digit-E" combination. For example:
              <pre>
      A=sin(3.1416/2)
      big=200.333E200
      $name="Thomas Jefferson"
   
</pre>Variables may be defined by equating them to an expression. To define or redefine a variable called FRED, simply enter:
              <pre>
        &gt; FRED=300*4/500
    
</pre>The last value assigned to a variable will be used to evaluate the expression on the left of the equals sign when this expression redefines the
variable. For example:
              <pre>
        &gt; A=2
          2
        &gt; A
          2
        &gt; A=A+A
          4
        &gt; A=A+A
          8
    
</pre>To allow FORTRAN-type E-format numeric entry and yet not cause the calculator routine to do an excessive amount of checking, a variable name ending in
the letter E must not have a digit (012345789) in front of that ending E. Attempting to define such a variable name will produce an error. This limitation
prevents the calculator from becoming confused by whether 12E+3 is a variable called 12E plus 3 or the exponential number 12E3=12000.
            </dd><!-- ======================================================================= -->

            <dt class="c1">CURRENT VALUE</dt>

            <dd>
              The variable name '?' is automatically set by the program to contain the last calculated value. This current-value register may be used like
              any variable or number. It is 0 at program initialization. Example:
              <pre>
          &gt; (300+500)
            800
          &gt; (1/4)*?
            200
          &gt; ?+?
            400
    
</pre>
            </dd><!-- ======================================================================= -->

            <dt class="c1">THE X AND Y ARRAYS</dt>

            <dd>
              Two arrays called X and Y are available that can contain up to 55555 values each. The arrays are originally initialized to all zeros. To set
              values in the arrays, use the xstore (or ystore) command. The format of the commands is

              <blockquote>
                <tt>xstore(start,ex1,ex2,ex3)<br />
                ystore(start,ex1,ex2,ex3)<br /></tt>
              </blockquote>where start=array address to start storing at and ex(i) are expressions.<br />
              The current value is assigned the last value stored.<br />
              In addition there are similar string arrays and functions that can hold up to 50 255-character strings:

              <ul>
                <li><b>$nstore(), $xstore(), $ystore()</b></li>

                <li><b>$n() ,$x() ,$y()</b></li>
              </ul>For example, to store into the locations 10,11,and 12 the values 1/10,2/10, and 3/10, the following could be entered:
              <pre>

        xstore( 10 , 1/10 , 2/20 , 3/10 )
                ^
                !
                *-------Start storing evaluated expressions sequentially,
                        beginning at x(10).
    
</pre>
            </dd><!-- ======================================================================= -->

            <dt class="c1">REFERENCING AN ARRAY VALUE</dt>

            <dd>
              The values stored into the arrays may be referenced by subscript. For example:
              <pre>
      &gt; xstore(1,10,20,30)
        30
      &gt; fred=x(1)+x(2)+x(3)
        60
   
</pre><b>NOTES:</b><br />

              <ol>
                <li>x and y array values cannot be used on the left of equal signs.
                  <pre>
         x(10)=5   # <em> IS ILLEGAL </em>
      
</pre>
                </li>

                <li>The current value is set to the value of the last expression by the xstore and ystore commands</li>
              </ol>
            </dd><!-- ======================================================================= -->

            <dt class="c1">INTRINSICS</dt>

            <dd>
              <h3>supported Fortran intrinsics</h3>The majority of intrinsic Fortran numeric functions are available. At a minimum the following are
              recognized (Deviations of the calculator routines from the standard intrinsics are noted):

              <dl>
                <dt><strong>Arc or anti-trigonometric functions</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>ACOS(arg) is a generic function that returns the arccosine of its argument in radians. The result of ACOS(real-arg) is real.</li>

                    <li>ASIN(arg) is a generic function that returns the arcsine of its argument in radians. The result of ASIN(real-arg) is real.</li>

                    <li>ATAN(arg) is a generic function that returns the arctangent of its argument in radians. The result of ATAN(real-arg) is real.</li>

                    <li>ATAN2(arg1, arg2) is a generic function that returns the arctangent of its argument in radians. The result of ATAN2(real-arg1,
                    real-arg2) is real. The arguments must not both be 0.</li>

                    <li>ACOSH(arg) is a generic function that returns the hyperbolic arccosine of its argument in radians. The result of ACOSH(real-arg) is
                    real.</li>

                    <li>ASINH(arg) is a generic function that returns the hyperbolic arcsine of its argument in radians. The result of ASIN(real-arg) is
                    real.</li>

                    <li>ATANH(arg) is a generic function that returns the hyperbolic arctangent of its argument in radians. The result of ATANH(real-arg) is
                    real.</li>
                  </ul>
                </dd>

                <dt><strong>Trigonometric functions</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>COS(arg) is a generic function that returns the cosine of its argument in radians. The result of COS(real-arg) is real.</li>

                    <li>SIN(arg) is a generic function that returns the sine of its argument in radians. The result of SIN(real-arg) is real.</li>

                    <li>TAN(arg) is a generic function that returns the tangent of its argument in radians.</li>
                  </ul>
                </dd>

                <dt><strong>Hyperbolic trigonometric functions</strong></dt>

                <dd>
                  <br />

                  <ul>
                    <li>COSH(arg) is a generic function that returns the hyperbolic cosine of its argument. The result of COSH(real-arg) is real.</li>

                    <li>SINH(arg) is a generic function that returns the hyperbolic sine of its argument in radians. The result of SINH(real-arg) is
                    real.</li>

                    <li>TANH(arg) is a generic function that returns the hyperbolic tangent of its argument in radians.</li>
                  </ul>
                </dd>

                <dt><strong>Powers and logarithms</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>EXP(arg) is a generic function that returns the exponential of its argument. The result of EXP(real-arg) is real.</li>

                    <li>LOG(arg) is a generic function that returns the natural logarithm (base e) of its argument. The result of LOG(real-arg) is
                    real.</li>

                    <li>HYPOT(arg1,arg2) returns the Euclidean distance calculated at HYPOT(X,Y)==SQRT(X**2+Y**2)</li>

                    <li>LOG10(arg) is a generic function that returns the common logarithm (base 10) of its argument. The result of LOG10(real-arg) is
                    real.</li>

                    <li>SQRT(arg) is a generic function that returns the principal square root of its argument. The result of SQRT(real-arg) is real.</li>
                  </ul>
                </dd>

                <dt><strong>Maximum/Minimum</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>MAX(arg1, arg2 [,..., arg50]) is a generic function that returns the largest value in its argument list. The result of
                    MAX(real-arg1, real-arg2 [,..., real-arg50]) is real. - (NON-STANDARD LIMIT: 50 instead of 500 parameters allowed)</li>

                    <li>MIN(arg1, arg2 [,..., arg50]) is a generic function that returns the smallest value in its argument list. The result of
                    MIN(real-arg1, real-arg2 [,..., real-arg50]) is real. NON-STANDARD LIMIT: 50 instead of 500 parameters allowed)</li>
                  </ul>
                </dd>

                <dt><strong>Directly effecting sign of value</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>ABS(arg) is a generic function that returns the absolute value of its argument. The result of ABS(real-arg) is real.</li>

                    <li>SIGN(arg1, arg2) is a generic function that returns a value after a sign transfer. The result of SIGN(real-arg1, real-arg2) is real.
                    The result is |arg1| if arg2 &gt;= 0. The result is -|arg1| if arg2 &lt; 0.</li>
                  </ul>
                </dd>

                <dt><strong>Converting to a whole number</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>INT(arg) is a generic function that converts its argument to integer type. The result of INT(real-arg) is zero if |real-arg| &lt; 1.
                    The result is the largest integer with the same sign as real-arg that does not exceed the magnitude of real-arg if |real-arg| &gt;=
                    1.</li>

                    <li>AINT(arg) is a generic function that returns a whole number after truncation of its argument. The result of AINT(real-arg) is real.
                    The result is 0 if |arg| &lt; 1. The result is the largest integer with the same sign as arg that does not exceed the magnitude of arg
                    if |arg| &gt;= 1.</li>

                    <li>ANINT(arg) is a generic function that returns the nearest whole number of its argument. The result of ANINT(real-arg) is real.</li>

                    <li>NINT(arg) is a generic function that returns the integer that is nearest to its argument. The result of NINT(real-arg) is integer.
                    If arg &gt;= 0, the result is (INT(arg+.5)). If arg &lt; 0, the result is (INT(arg-.5)).</li>
                  </ul>
                </dd>

                <dt><strong>Bessel functions</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>BESSEL_J0(X) - Bessel function of the first kind and order zero.</li>

                    <li>BESSEL_J1(X) - Bessel function of the first kind and order one.</li>

                    <li>BESSEL_Y0(X) - Bessel function of the second kind and order zero.</li>

                    <li>BESSEL_Y1(X) - Bessel function of the second kind and order one.</li>

                    <li>BESSEL_JN(N,X) - Bessel function of the first kind and order N.</li>

                    <li>BESSEL_YN(N,X) - Bessel function of the second kind and order N.</li>

                    <li>BESSEL_JN(N1,N2,X) - Bessel function of the first kind and order N.</li>

                    <li>BESSEL_YN(N1,N2,X) - Bessel function of the second kind and order N.</li>
                  </ul>
                </dd>

                <dt><strong>Miscellaneous</strong></dt>

                <dd>
                  <br />
                  <br />

                  <ul>
                    <li>DIM(arg1, arg2) is a generic function that returns the positive difference of its arguments. The result of DIM(real-arg1, real-arg2)
                    is real. The result is arg1-arg2 if arg1 &gt; arg2, and the result is 0 if arg1 &lt;= arg2.</li>

                    <li>MOD(arg1, arg2) is a generic function that returns the remainder of arg1 divided by arg2. The result of MOD(real-arg1, real-arg2) is
                    real. The result is arg1 - (INT(arg1/arg2)*arg2). If arg2 = 0, the result is undefined. Arg1 and arg2 must not exceed 2**48-1.</li>

                    <li>REAL(arg) is a generic function that performs type conversion on its argument. The result of REAL(real-arg) is real.</li>
                  </ul>
                </dd>

                <dt><strong>Error function</strong></dt>

                <dd>
                  <br />

                  <ul>
                    <li>ERF(X) - Error function.</li>

                    <li>ERFC(X) - Complementary error function.</li>

                    <li>ERFC_SCALED(X) - Exponentially-scaled complementary error function.</li>
                  </ul>
                </dd>

              </dl>
              <hr />

              <h2>ADDITIONAL PROCEDURES</h2>

              <p>In addition to standard Fortran intrinsics, many other functions are supported ...</p>
              <!-- ======================================================================= -->

              <h3>conversion functions</h3>

              <ul>
                <li><b>r2d(arg)</b> - converts from radians to degrees</li>

                <li><b>d2r(arg)</b> - converts from degrees to radians</li>

                <li><b>f2c()</b> - convert Fahrenheit to Celsius</li>

                <li><b>c2f()</b> - convert Celsius to Fahrenheit</li>
              </ul><!-- ======================================================================= -->

              <h3>logical functions</h3>

              <ul>
                <li><b>ge(val1,val2)</b> - return TRUE if VAL1 is greater than or equal to VAL2, else return FALSE</li>

                <li><b>gt(val1,val2)</b> - return TRUE if VAL1 is greater than to VAL2, else return FALSE</li>

                <li><b>eq(val1,val2)</b> - return TRUE if VAL1 is equal to VAL2, else return FALSE</li>

                <li><b>le(val1,val2)</b> - return TRUE if VAL1 is less than or equal to VAL2, else return FALSE</li>

                <li><b>lt(val1,val2)</b> - return TRUE if VAL1 is less than VAL2, else return FALSE</li>

                <li><b>ne(val1,val2)</b> - return TRUE if VAL1 is not equal to VAL2, else return FALSE</li>

                <li><b>if(expression,val1,val2)</b> - If expression is TRUE, return VAL1 else return VAL2</li>
              </ul>For example:
              <pre>
     a=if(ge(b,c),a,d)
   
</pre>means return a if b is greater than or equal to c else return d. <!-- ======================================================================= -->

              <h3>lexical logical functions</h3>

              <ul>
                <li><b>lge($str1,$str2)</b> - return TRUE if $STR1 is lexically greater than or equal to $STR2, else return FALSE</li>

                <li><b>lgt($str1,$str2)</b> - return TRUE if $STR1 is lexically greater than to $STR2, else return FALSE</li>

                <li><b>leq($str1,$strN)</b> - return TRUE if $STR1 is lexically equal to any of the other strings, else return FALSE</li>

                <li><b>lle($str1,$str2)</b> - return TRUE if $STR1 is lexically less than or equal to $STR2, else return FALSE</li>

                <li><b>llt($str1,$str2)</b> - return TRUE if $STR1 is lexically less than $STR2, else return FALSE</li>

                <li><b>lne($str1,$strN)</b> - return TRUE if $STR1 is not equal to all following strings.</li>

                <li><b>$if(expression,$str1,$str2)</b> - If expression is TRUE, return $STR1 else return $STR2</li>
              </ul><!-- ======================================================================= -->

              <h3>miscellaneous functions</h3>

              <ul>
                <li><b>ownmode()</b> - ownmode(3f) enables calls to user-supplied functions via set_mysub(3f) and set_myfunc(3f).</li>

                <li><b>c(val1)</b> - user-supplied function</li>

                <li><b>ceiling(val1)</b> - ceiling(3f)or ceil(3f) returns the least integral value greater than or equal to VAL1.</li>

                <li><b>floor(val1)</b> - floor(3f) returns the greatest integral value less than or equal to VAL1.</li>

                <li><b>in(val1,val2,val3)</b> - returns TRUE if VAL1 is between VAL2 and VAL3 else returns FALSE</li>

                <li><b>round(val1,val2)</b> - round VAL1 to VAL2 significant digits. <em>Warning: this function is not ready yet.</em></li>
              </ul><!-- ======================================================================= -->

              <h3>String-related</h3>

              <ul>
                <li><b>$char(v1,v2,....)</b> - return characters indicated by numeric ADE (ASCII decimal equivalent) values passed.</li>

                <li><b>delimx(istore,$str1,$delimiters)</b> - parse string into tokens in array $x()</li>

                <li><b>$f(fortran_format,value)</b> - create string from value using specified Fortran FORMAT statement</li>

                <li><b>ichar($char)</b> - return the ADE (ASCII Decimal Equivalent) value of a letter</li>

                <li><b>index($str1,$str2)</b> - return column number where $str2 begins in $str1 or zero(0).</li>

                <li><b>$l($str1)</b> - convert string to lowercase</li>

                <li><b>len($str1)</b> - return the length of the string</li>


                <li><b>$(ex,ex,ex,...) or $str(ex,ex,ex,...)</b> - generate a string from a series of strings and numbers. The expressions may be numeric or
                string.</li>

                <li><b>str(ex,ex,ex,...)</b> - same as $str() but convert resulting string to a number IF the string is a simple numeric value</li>

                <li><b>$substr(string,i,j)</b> - return a string that is columns i thru j of the input string (first character is called column 1).</li>

                <li><b>$u($str1)</b> - convert string to uppercase</li>
              </ul><!-- ======================================================================= -->

              <h3>calendar(Time-related)</h3>

              <ul>
                <li><b>ye(),year()</b> - return current year</li>

                <li><b>mo(),month()</b> - return current month</li>

                <li><b>da(),day()</b> - return current day of month</li>

                <li><b>ho(),hour()</b> - return current hour (0 -23)</li>
                <li><b>tz(),timezone()</b> - timezone in minutes </li>

                <li><b>mi(),minute()</b> - return current minute</li>

                <li><b>se(),second()</b> - return current second</li>

                <li><b>$dw([0-7])</b> - day of week as a string</li>

                <li><b>$mo([1-12])</b> - month as a string</li>

              </ul>

              <!-- ======================================================================= -->

              <h3>Random numbers</h3>

              <ul>
                <li><b>rand()</b> - return random number from 0.0 to 1.0</li>

                <li><b>srand(number)</b> - set seed for rand(). Seeds should be whole numbers</li>
              </ul>

              </ol><!-- ======================================================================= -->
            </dd>

            <dt class="c1">MISCELLANEOUS COMMANDS</dt>

            <dd>
              <dl>
                <dt class="c1">Displaying variable values: dump</dt>

                <dd><br />
                <br />
                The current value and all defined variable names are displayed via the dump command.</dd>

                <dt class="c1">Listing Available Functions: funcs</dt>

                <dd><br />
                <br />
                A display of all available functions can be obtained when executing CALCULATOR(3f) by entering the command 'funcs'. No descriptions are
                provided.</dd>
              </dl>
            </dd><!-- ======================================================================= -->
          </dl>
        </dd><!-- =========================================================================================================================== -->
      </dl>

      <dl>
        <!-- =========================================================================================================================== -->

        <dd>
          <h2>ADDING FUNCTIONS</h2>

          <p>Any program that calls CALCULATOR(3f) directly or indirectly (via JUCALX(), INUM0(), RNUM0(), SNUM0()) can extend the functions
          available by supplying two routines:</p>

          <ol>
            <li>SUBSTITUTE_SUBROUTINE(3f) - This user-supplied routine is a hook for programmers to add their own functions to CALCULATOR(3f) without having
            to change CALCULATOR(3f) directly. It is passed the name of unknown functions and their parameter lists if the expression 'ownmode(1)' is passed
            to the calculator. If you do not need to add custom functions to the calculator this is not required. A user-defined function call be created
            and called with call set_mysub(SUBROUTINE_NAME) The routine must be defined with an explicit interface available in the calling unit.</li>

            <li>SUBSTITUTE_C(3f) - This user-supplied function is here to optimize performance of a particular program and everyone else should typically
            ignore it. In a special case a non-standard function needed added that was called so heavily that it was important that it be called more
            efficiently than a user defined function placed in SUBSTITUTE_SUBROUTINE(3f) is. It allows for the function "c" to be defined and given an array
            and an array size as arguments. By default the "c" function just returns zero. A replacement can be defined by creating a function with similar
            arguments and calling call set_myfunc(FUNCTION_NAME). The routine must be defined with an explicit interface available in the calling unit.</li>
          </ol>

          <p>The following program shows a simple but complete line-mode calculator program.</p>./compute # run example program a=10 a/2 3**4 sin(3.1416/4)
          PI=2*asin(1) diameter=20.3+8/4 circumference=PI*diameter funcs dump # use end-of-file (typically control-D) to exit program ctrl-D 
          <!--FORTRAN90-->
          <pre>

   program demo_M_calculator

      !     line mode calculator that calls calculator
      !
      use M_calculator, only: calculator,iclen_calc
      use M_calculator, only : rnum0
      use M_calculator, only : set_mysub, set_myfunc
      implicit none
      integer, parameter        :: k_dbl = SELECTED_REAL_KIND(15,300) ! real*8
      character(len=iclen_calc) :: event, line
      character(len=iclen_calc) :: outlin
      integer                   :: ios
      integer                   :: ierr
      real(kind=k_dbl)          :: rvalue
      character(len=80)         :: string
      INFINITE: do
         read(*,'(a)',iostat=ios)line
         if(ios.ne.0)exit INFINITE
         call calculator(line,outlin,event,rvalue,ierr)
         ! line   -- input expression
         ! outlin -- result as a string
         ! event  --
         ! rvalue -- result as a numeric value
         ! ierr   -- return status
         !
         ! several different meaning to the status flag ...
         select case(ierr)
         case(0)  ! a numeric value was returned without error
           write(6,'(a,a,a)')trim(outlin),' = ',trim(line)
         case(2)  ! a string value was returned without error
           write(6,'(a)')trim(event)
         case(1)  ! a request for a message has been returned
                  ! (from DUMP or FUNC)
           write(6,'(a,a)')'message===&gt;',trim(event)
         case(-1) ! an error has occurred
           write(6,'(a,a)')'error===&gt;',trim(event)
         case default ! this should not occur
           write(6,'(a)')'warning===&gt; unexpected ierr value from calculator'
         end select
      enddo INFINITE

      string='A=sind(30)'
      rvalue=rnum0(string,ierr)
      if(ierr.eq.0)then
         write(*,*) rvalue
      else
         write(*,*) 'error evaluating '//trim(string)
      endif
      rvalue=rnum0('A',ierr)
      write(*,*) rvalue

      ! OPTIONAL: contains example routines for adding user-defined
      !           functions.
      !
      call set_mysub(my_functions)
      call set_myfunc(c)
      contains
      subroutine my_functions(func,iflen,args,iargstp,n,fval,ctmp,ier)
      ! extend functions available to the calculator routine
      !
      !  if the function ownmode(1) is called this subroutine
      !  will be accessed to do user-written functions.
      !
      !  func(iend-1)=procedure name.  func should not be changed.
      !  iflen=length of procedure name.
      !  args=array of 100 elements containing procedure arguments.
      !  iargstp=type of argument(1=numeric value,2=position of string value)
      !  n=integer number of parameters
      !  x=array of 55555 x values
      !  y=array of 55555 y values
      !  fval=value to replace function call
      !  ctmp=string to return when returning a string value
      !  ier=returned error flag value.
      !      set to -1 if an error occurs.
      !      set to  0 if a number is returned
      !      set to  2 if a string is returned
      !
      use M_calculator, only: x,y,values,values_len,iclen_calc
      integer, parameter           :: k_dbl = SELECTED_REAL_KIND(15,300) ! real*8
      ! values: the values of string variables
      ! values_len: the lengths of the string variable values
      character(len=*),intent(in)  :: func
      integer,intent(in)           :: iflen
      real(kind=k_dbl),intent(in)  :: args(100)
      integer,intent(in)           :: iargstp(100)
      integer,intent(in)           :: n
      real(kind=k_dbl)             :: fval
      character(len=*)             :: ctmp
      integer                      :: ier

      integer                      :: iwhich
      integer                      :: i10
      integer                      :: ilen
      character(len=iclen_calc)    :: temp1
         fval=0.0d0
      !-----------------------------------------------------------------------
         write(*,*)'*my_functions* unknown function ', func(1:iflen)
         write(*,*)'function name length is..',iflen
         write(*,*)'number of arguments .....',n
         do i10=1,n
            if(iargstp(i10).eq.0)then
               write(*,*)i10,' VALUE=',args(i10)
            elseif(iargstp(i10).eq.2)then
               iwhich=int(args(i10))
               ilen=values_len(iwhich)
               write(*,*)i10,' STRING='//values(iwhich)(:ilen)
            else
               write(*,*)'unknown parameter type is ',iargstp(i10)
            endif
         enddo
      end subroutine my_functions
      !ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
      real function c(fval,n)
      implicit none
      !  a built-in calculator function called c must be satisfied.
      !  write whatever you want here as a function
      integer, parameter          :: k_dbl = SELECTED_REAL_KIND(15,300) ! real*8
      integer,intent(in)          :: n
      real(kind=k_dbl),intent(in) :: fval(n)
         c=0.0_k_dbl
      end function c
      !ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
      end program demo_M_calculator
</pre>
        </dd><!-- =========================================================================================================================== -->

      </dl>
    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <h5><a href="download.html">[UP]</a></h5>

  <div id="Container">
    <div id="Content">
      <div class="c5">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>calculator</b> - [M_calculator] parse calculator expression and return numeric or string value <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      <h3><a name="8">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
subroutine <b>calculator</b>(inline,outlin,mssg,slast,ierr)
<br />   character(len=*),intent=(in)           :: inline
   character(len=iclen_calc),intent=(out) :: outlin
   character(len=iclen_calc),intent=(out) :: mssg
   doubleprecision, intent=(out)          :: slast
   integer, intent=(out)                  :: ierr
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">DESCRIPTION</a></h3>

      <blockquote>
        <b>CALCULATOR</b>(3f) evaluates FORTRAN-like expressions. It can be used to add calculator-like abilities to your program.
      </blockquote><a name="3"></a>

      <h3><a name="3">OPTIONS</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td class="c6" width="6%" nowrap="nowrap">inline</td>

            <td valign="bottom">INLINE is a string expression up to (iclen_calc=512) characters long. The syntax of an expression is described in the main
            document of the Calculator Library.</td>
          </tr>

          <tr valign="top">
            <td class="c6" width="6%" nowrap="nowrap">outlin</td>

            <td valign="bottom">Returned numeric value as a string when IERR=0.</td>
          </tr>

          <tr valign="top">
            <td class="c6" width="6%" nowrap="nowrap">mssg</td>

            <td valign="bottom">
              MSSG is a string that can serve several purposes

              <table width="100%" cellpadding="3">

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>Returned string value when IERR=2</td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>Error message string when IERR=<b>-1</b></td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>Message from 'funcs' or 'dump' command when IERR=1</td>
                </tr>

              </table>
            </td>
          </tr>

          <tr valign="top">
            <td class="c6" width="3%" nowrap="nowrap">slast</td>

            <td valign="bottom">
              SLAST has different meanings depending on whether a string or number is being returned

              <table width="100%" cellpadding="3">

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>REAL value set to last successfully calculated value when IERR=0</td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>Number of characters in returned string variable when IERR=2</td>
                </tr>

              </table>
            </td>
          </tr>

          <tr valign="top">
            <td class="c6" width="3%" nowrap="nowrap">ierr</td>

            <td valign="bottom">
              status flag.

              <table width="100%" cellpadding="3">

                <tr valign="top">
                  <td class="c6" width="6%" nowrap="nowrap">-1</td>

                  <td valign="bottom">
                    An error occurred

                    <table width="100%" cellpadding="3">

                      <tr valign="top">
                        <td class="c6" width="6%" nowrap="nowrap">0</td>

                        <td valign="bottom">A numeric value was returned</td>
                      </tr>

                      <tr valign="top">
                        <td class="c6" width="6%" nowrap="nowrap">1</td>

                        <td valign="bottom">A message was returned</td>
                      </tr>

                      <tr valign="top">
                        <td class="c6" width="6%" nowrap="nowrap">2</td>

                        <td valign="bottom">A string value was returned</td>
                      </tr>

                    </table>
                  </td>
                </tr>

              </table>
            </td>
          </tr>

        </table>
      </blockquote><a name="4"></a>

      <h3><a name="4">EXAMPLES</a></h3>

      <blockquote>
        Example calculator program
        <pre>
      program demo_calculator
      !compute(1f): line mode calculator program (that calls calculator(3f))
      use M_calculator, only: calculator,iclen_calc
      ! iclen_calc : max length of expression or variable value as a string
      implicit none
      integer,parameter         :: dp=kind(0.0d0)
      character(len=iclen_calc) :: line
      character(len=iclen_calc) :: outlin
      character(len=iclen_calc) :: event
      real(kind=dp)             :: rvalue
      integer                   :: ierr
      ierr=0
      call calculator('ownmode(1)',outlin,event,rvalue,ierr)
      ! activate user-defined function interface
      INFINITE: do
         read(*,'(a)',end=999)line
         if(line.eq.'.')stop
         call calculator(line,outlin,event,rvalue,ierr)
         select case (ierr)
         ! several different meanings to the error flag returned by calculator
         case(0)
         ! a numeric value was returned without error
           write(*,'(a,a,a)')trim(outlin),' = ',trim(line)
         case(2)
         ! a string value was returned without error
           write(*,'(a)')trim(event(:int(rvalue)))
         case(1)
         ! a request for a message has been returned (from DUMP or FUNC)
           write(*,'(a,a)')'message===&gt;',trim(event(:len_trim(event)))
         case(-1)
         ! an error has occurred
           write(*,'(a,a)')'error===&gt;',trim(event(:len_trim(event)))
         case default
         ! this should not occur
           WRITE(6,'(A,i10)')'*CALCULATOR* UNEXPECTED IERR VALUE ',IERR
         end select
      enddo INFINITE
      999 continue
      end program demo_calculator
<br />
</pre>
      </blockquote><a name="5"></a>

      <h3><a name="5">SEE ALSO</a></h3>

      <blockquote>
        see <b>INUM0</b>(),RNUM0(),SNUM0(),EXPRESSION().
      </blockquote><a name="6"></a>

    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <h5><a href="download.html">[UP]</a></h5>

  <div id="Container">
    <div id="Content">
      <div class="c13">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>expression(3f)</b> - [M_calculator] return value from a string expression processing messages to simplify call to <b>CALCULATOR</b>(3f)
        <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      <h3><a name="8">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
subroutine <b>expression</b>(inlin0,outval,outlin0,ierr,ilen)
<br />    character(len=*), intent=(in)  :: inlin0
    doubleprecision, intent=(out)  :: outval
    character(len=*), intent=(out) :: outlin0
    integer, intent=(out)          :: ierr
    integer, intent=(out)          :: ilen
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">DESCRIPTION</a></h3>

      <blockquote>
        <b>expression</b>() takes a string containing a FORTRAN-like expression and evaluates it and returns a numeric or string value as appropriate. The
        main purpose of <b>expression</b>() is to assume the burden of displaying the calculator messages for codes that make multiple calls to
        <b>CALCULATOR</b>(3f). <b>CALCULATOR</b>(3f) does not display error messages directly.

        <blockquote>
          <table cellpadding="3">

            <tr valign="top">
              <td width="3%">o</td>

              <td><b>EXPRESSION</b>(3f) calls the calculator routine <b>CALCULATOR</b>(3f) to evaluate the expressions.</td>
            </tr>

            <tr valign="top">
              <td width="3%">o</td>

              <td>Messages beginning with a # are considered comments and are not passed on to the calculator.</td>
            </tr>

          </table>
        </blockquote>

        <table cellpadding="3">
          <tr valign="top">
            <td class="c14" width="6%" nowrap="nowrap">inlin0</td>

            <td valign="bottom">INLIN0 is a string containing a numeric expression. The expression can be up to (iclen_calc=512) characters long. The syntax
            of an expression is as described in the main document of the Calc library. For example:</td>
          </tr>

          <tr>
            <td colspan="2">
              <pre>
              'A=sin(3.1416/5)'
              '# this is a comment'
              '$STR("The value is ",40/3)'
<br />
</pre>
            </td>
          </tr>

          <tr valign="top">
            <td class="c14" width="6%" nowrap="nowrap">outval</td>

            <td valign="bottom">OUTVAL is a numeric value calculated from the expression in INLIN0 (when IERR returns 0). When a string value is returned
            (IERR=2) then OUTVAL is the length of the output string.</td>
          </tr>

          <tr valign="top">
            <td class="c14" colspan="2">outlin0</td>
          </tr>

          <tr valign="top">
            <td width="6%"></td>

            <td>OUTLIN0 contains a string representation of the number returned in OUTVAL up to 23 characters long when INLIN0 is a numeric expression. It
            contains a string up to (iclen_calc=512) characters long when INLIN0 is a string expression.</td>
          </tr>

          <tr valign="top">
            <td class="c14" width="6%" nowrap="nowrap">ierr</td>

            <td valign="bottom">
              IERR returns

              <table width="100%" cellpadding="3">

                <tr valign="top">
                  <td width="3%">o</td>

                  <td><b>-1</b> if an error occurred</td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>0 if a numeric value is returned (value is in OUTVAL, string representation of the value is in OUTLIN2).</td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>1 if no value was returned but a message was displayed (If a 'dump' or 'funcs' command was passed to the calculator).</td>
                </tr>

                <tr valign="top">
                  <td width="3%">o</td>

                  <td>2 if the expression evaluated to a string value instead of a numeric value (value is in OUTLIN0).</td>
                </tr>

              </table>
            </td>
          </tr>

          <tr valign="top">
            <td class="c14" width="3%" nowrap="nowrap">ilen</td>

            <td valign="bottom">ILEN returns the length of the input string minus trailing blanks.</td>
          </tr>

        </table>
      </blockquote><a name="3"></a>

      <h3><a name="3">DEPENDENCIES</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>User-supplied routines: All programs that call the calculator routine can supply their own <b>substitute_subroutine</b>(3f) and
            <b>substitute_C</b>(3f) procedures. See the example program for samples.</td>
          </tr>

        </table>
      </blockquote><a name="4"></a>

      <h3><a name="4">EXAMPLES</a></h3>

      <blockquote>
        Sample program:
        <pre>
    program demo_expression
    use M_calculator,      only : iclen_calc
    use M_calculator, only : expression
    character(len=iclen_calc) ::  outlin0
    doubleprecision :: outval
    call expression('A=3.4**5    ',outval,outlin0,ierr,ilen)
    write(*,*)'value of expression is ',outval
    write(*,*)'string representation of value is ',trim(outlin0)
    write(*,*)'error flag value is ',ierr
    write(*,*)'length of expression is ',ilen
    end program demo_expression
<br />
</pre>
      </blockquote>Results:
      <pre>
    value of expression is    454.35424000000000
    string representation of value is 454.35424
    error flag value is            0
    length of expression is            8
<br />
</pre><a name="5"></a>

      <h3><a name="5">SEE ALSO</a></h3>

      <blockquote>
        See also: RNUM0(),<b>CALCULATOR</b>(),INUM0(),SNUM0()
      </blockquote><a name="6"></a>

    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <h5><a href="download.html">[UP]</a></h5>

  <div id="Container">
    <div id="Content">
      <div class="c9">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>dnum0(3f)</b> - [M_calculator] return double precision value from string expression using <b>calculator</b>(3f) <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      <h3><a name="7">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
doubleprecision function <b>dnum0</b>(inline,ierr)
<br />   character(len=*),intent(in) :: inline
   integer,optional,intent(out) :: ierr
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">DESCRIPTION</a></h3>

      <blockquote>
        <b>DNUM0</b>() is used to return a DOUBLEPRECISION value from a CHARACTER string representing a numeric expression.

        <blockquote>
          <table cellpadding="3">

            <tr valign="top">
              <td width="3%">o</td>

              <td>If an error occurs in evaluating the expression <b>INUM</b>() returns <b>zero</b>(0).</td>
            </tr>

            <tr valign="top">
              <td width="3%">o</td>

              <td><b>DNUM0</b>() ultimately uses the calculator routine <b>CALCULATOR</b>(3f)</td>
            </tr>

          </table>
        </blockquote>

        <table cellpadding="3">
          <tr valign="top">
            <td class="c10" width="6%" nowrap="nowrap">inline</td>

            <td valign="bottom">
              INLINE is a CHARACTER variable up to (iclen_calc=255) characters long that is similar to a FORTRAN 77 numeric expression.

              <table width="100%" cellpadding="3">

                <tr valign="top">
                  <td class="c10" width="6%" nowrap="nowrap">ierr</td>

                  <td valign="bottom">error code. If zero, no error occurred</td>
                </tr>

              </table>
            </td>
          </tr>

        </table>
      </blockquote><a name="3"></a>

      <h3><a name="3">EXAMPLES</a></h3>

      <blockquote>
        Sample Program
        <pre>
    program demo_dnum0
    use M_calculator, only : dnum0
    doubleprecision x,y,z
    X=DNUM0('20/3.4')
    Y=DNUM0('CI = 10 * sin(3.1416/4)')
    Z=DNUM0('CI')
    write(*,*)x,y,z
    end program demo_dnum0
<br />
</pre>
      </blockquote><a name="4"></a>

      <h3><a name="4">SEE ALSO</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>The syntax of an expression is as described in the main documentation of the Calculator Library.</td>
          </tr>

          <tr valign="top">
            <td width="3%">o</td>

            <td>See <b>EXPRESSION</b>(), <b>CALCULATOR</b>(), <b>RNUM0</b>(), <b>SNUM0</b>().</td>
          </tr>

        </table>
      </blockquote><a name="5"></a>

    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <div id="Container">
    <div id="Content">
      <div class="c17">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>inum0(3f)</b> - [M_calculator] return integer value from calculator expression <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      <h3><a name="9">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
integer function <b>inum0</b>(inline,ierr)
<br />   character(len=*),intent(in)  :: inline
   integer,optional,intent(out) :: ierr
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
<b>INUM0</b>() evaluates a CHARACTER argument as a FORTRAN-like
calculator expression and returns an integer.
</pre>

        <blockquote>
          <table cellpadding="3">

            <tr valign="top">
              <td width="3%">o</td>

              <td><b>INUM0</b>() uses the calculator routine <b>CALCULATOR</b>(<i>3f</i>)</td>
            </tr>

            <tr valign="top">
              <td width="3%">o</td>

              <td>Remember that the calculator treats all values as DOUBLEPRECISION.</td>
            </tr>

          </table>
        </blockquote>
        <pre>

<br />Values returned are assumed to be very close to being whole integer
values. A small value (0.01) is added to the result before it is
returned to reduce roundoff error problems. This could introduce
errors if INUM0 is misused and is not being used to calculate
essentially integer results.
</pre>
      </blockquote><a name="3"></a>

      <h3><a name="3">DESCRIPTION</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td class="c18" width="6%" nowrap="nowrap">inline</td>

            <td valign="bottom">INLINE is a CHARACTER variable up to 255 characters long that is similar to a FORTRAN 77 numeric expression. Keep it less
            than 80 characters when possible.</td>
          </tr>

          <tr valign="top">
            <td class="c18" width="6%" nowrap="nowrap">ierr</td>

            <td valign="bottom">zero (0) if no error occurs</td>
          </tr>

        </table>
      </blockquote><a name="4"></a>

      <h3><a name="4">DEPENDENCIES</a></h3>

      <blockquote>
        All programs that call the calculator routine can supply their own <b>substitute_subroutine</b>(<i>3f</i>) and <b>substitute_C</b>(<i>3f</i>)
        procedures. See the ../html/Example.html"&gt;example program for samples.
      </blockquote><a name="5"></a>

      <h3><a name="5">EXAMPLES</a></h3>

      <blockquote>
        Sample program:
        <pre>
      program demo_inum0
      use M_calculator, only : inum0
      i=inum0('20/3.4')
      j=inum0('CI = 13 * 3.1')
      k=inum0('CI')
      write(*,*)'Answers are ',I,J,K
      end program demo_inum0
<br />
</pre>
      </blockquote><a name="6"></a>

      <h3><a name="6">SEE ALSO</a></h3>

      <blockquote>
        The syntax of an expression is as described in the main document of the Calculator Library. See <b>CALCULATOR</b>(), <b>RNUM0</b>(), <b>DNUM0</b>(),
        <b>SNUM0</b>(), <b>EXPRESSION</b>()
      </blockquote><a name="7"></a>

    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <div id="Container">
    <div id="Content">
      <div class="c21">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>rnum0(3f)</b> - [M_calculator] returns real number from string expression using <b>CALCULATOR</b>(3f) <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      <h3><a name="8">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
real function <b>rnum0</b>(<i>inline</i>)
<br />    character(len=*), intent=(in) :: inline
    integer,intent(out),optional  :: ierr
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">DESCRIPTION</a></h3>

      <blockquote>
        <b>RNUM0</b>() is used to return a REAL value from a CHARACTER string representing a numeric expression. It uses the <b>M_calculator</b>(3fp)
        module.

        <table cellpadding="3">

          <tr valign="top">
            <td class="c22" width="6%" nowrap="nowrap">inline</td>

            <td valign="bottom">INLINE is a CHARACTER variable up to (iclen_calc=512) characters long that is similar to a FORTRAN 77 numeric
            expression.</td>
          </tr>

          <tr valign="top">
            <td class="c23" width="6%" nowrap="nowrap">ierr</td>

            <td valign="bottom">error code. If zero, no error occurred</td>
          </tr>

        </table>
      </blockquote><a name="3"></a>

      <h3><a name="3">DEPENDENCIES</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>User-supplied routines: All programs that call the calculator routine can supply their own <b>substitute_subroutine</b>(3f) and
            <b>substitute_C</b>(3f) procedures. See the example program for samples.</td>
          </tr>

        </table>
      </blockquote><a name="4"></a>

      <h3><a name="4">EXAMPLES</a></h3>

      <blockquote>
        Sample program
        <pre>
    program demo_rnum0
    use M_calculator, only : rnum0
    x=rnum0('20/3.4')
    y=rnum0('CI = 10 * sin(3.1416/4)')
    z=rnum0('CI')
    write(*,*)x,y,z
    end program demo_rnum0
<br />
</pre>
      </blockquote><a name="5"></a>

      <h3><a name="5">SEE ALSO</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>The syntax of an expression is as described in the main documentation of the Calculator Library.</td>
          </tr>

          <tr valign="top">
            <td width="3%">o</td>

            <td>See <b>EXPRESSION</b>(3f), <b>CALCULATOR</b>(3f), <b>INUM0</b>(3f), <b>DNUM0</b>(3f), <b>SNUM0</b>(3f).</td>
          </tr>

        </table>
      </blockquote><a name="6"></a>

    </div>
  </div>
</div>
</html>
<?
<div><P style="page-break-before: always">
  <a name="top" id="top"></a>

  <div id="Container">
    <div id="Content">
      <div class="c25">
      </div><a name="0"></a>

      <h3><a name="0">NAME</a></h3>

      <blockquote>
        <b>snum0(3f)</b> - [M_calculator] resolve a calculator expression into a <b>string</b>(return blank on errors) <b>(LICENSE:PD)</b>
      </blockquote><a name="contents" id="contents"></a>

      </blockquote><a name="8"></a>

      <h3><a name="8">SYNOPSIS</a></h3>

      <blockquote>
        <pre>
function <b>snum0</b>(inline0,ierr)
<br />   character(len=:),allocatable :: snum0(inline0)
   character(len=*),intent(in)  :: inline0                           ! input string
   integer,optional,intent(out) :: ierr
<br />
</pre>
      </blockquote><a name="2"></a>

      <h3><a name="2">DESCRIPTION</a></h3>

      <blockquote>
        <b>SNUM0</b>() is used to return a string value up to (iclen_calc=512) characters long from a string expression. <b>SNUM0</b>() uses the calculator
        routine <b>CALCULATOR</b>(3f)

        <table cellpadding="3">

          <tr valign="top">
            <td class="c26" colspan="2">inline0</td>
          </tr>

          <tr valign="top">
            <td width="6%"></td>

            <td>INLINE0 is a CHARACTER variable up to (iclen_calc=512) characters long that is similar to a FORTRAN 77 expression.</td>
          </tr>

          <tr valign="top">
            <td class="c26" width="6%" nowrap="nowrap">ierr</td>

            <td valign="bottom">error code. If zero, no error occurred</td>
          </tr>

        </table>
      </blockquote><a name="3"></a>

      <h3><a name="3">EXAMPLES</a></h3>

      <blockquote>
        Sample program:
        <pre>
    program demo_snum0
    use m_calculator, only: rnum0, snum0
    character(len=80)  :: ic,jc,kc
<br />    rdum=rnum0('A=83/2') ! set a variable in the calculator
    kc=snum0('$MYTITLE="This is my title variable"')
<br />    ic=snum0('$STR("VALUE IS [",A,"]")')
    jc=snum0('$MYTITLE')
<br />    write(*,*)'IC=',trim(ic)
    write(*,*)'JC=',trim(jc)
    write(*,*)'KC=',trim(kc)
<br />    end program demo_snum0
<br />
</pre>

        <blockquote>
          The output should look like
          <pre>
     IC=VALUE IS [41.5]
     JC=This is my title variable
     KC=This is my title variable
<br />
</pre>
        </blockquote>
      </blockquote><a name="4"></a>

      <h3><a name="4">DEPENDENCIES</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>User-supplied routines: All programs that call the calculator routine can supply their own <b>substitute_subroutine</b>(3f) and
            <b>substitute_C</b>(3f) procedures. See the example program for samples.</td>
          </tr>

        </table>
      </blockquote><a name="5"></a>

      <h3><a name="5">SEE ALSO</a></h3>

      <blockquote>
        <table cellpadding="3">
          <tr valign="top">
            <td width="3%">o</td>

            <td>The syntax of an expression is described in the main document of the Calculator Library.</td>
          </tr>

          <tr valign="top">
            <td width="3%">o</td>

            <td>See <b>CALCULATOR</b>(), <b>RNUM0</b>(), <b>SNUM0</b>(), <b>EXPRESSION</b>().</td>
          </tr>

        </table>
      </blockquote><a name="6"></a>

    </div>
  </div>
</div>
</html>
</article>
</body>
</html>
